
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Alexander Hagerman">
      
      
        <link rel="canonical" href="https://burningdaylight.io/blog/page/6/">
      
      
        <link rel="prev" href="../../../me/">
      
      
        <link rel="next" href="../../archive/2025/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../icons/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Index - burningdaylight</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/styles.css">
    
      <link rel="stylesheet" href="../../../css/portfolio.css">
    
      <link rel="stylesheet" href="../../../css/resume.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="hsl(195,-80%,-42%)" data-md-color-accent="hsl(284,-22%,-36%)">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#index" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://burningdaylight.io" title="burningdaylight" class="md-header__button md-logo" aria-label="burningdaylight" data-md-component="logo">
      
  <img src="../../../icons/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            burningdaylight
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Index
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="hsl(195,-80%,-42%)" data-md-color-accent="hsl(284,-22%,-36%)"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="hsl(284,-22%,-36%)" data-md-color-accent="hsl(195,-80%,-42%)"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://burningdaylight.io" title="burningdaylight" class="md-nav__button md-logo" aria-label="burningdaylight" data-md-component="logo">
      
  <img src="../../../icons/favicon.png" alt="logo">

    </a>
    burningdaylight
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../me/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Me
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
      
    
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Index
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="../../" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#connected-roomba-remote-lora" class="md-nav__link">
    <span class="md-ellipsis">
      Connected Roomba Remote - LoRa
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connected-roomba-possibilities" class="md-nav__link">
    <span class="md-ellipsis">
      Connected Roomba - Possibilities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-con-badge-with-pyportal" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Con Badge with PyPortal
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-dataclasses-for-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Using Dataclasses for Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-odbc-part-3-of-3" class="md-nav__link">
    <span class="md-ellipsis">
      What is ODBC Part 3 of 3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-odbc-part-2-of-3" class="md-nav__link">
    <span class="md-ellipsis">
      What is ODBC Part 2 of 3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-odbc-part-1-of-3" class="md-nav__link">
    <span class="md-ellipsis">
      What is ODBC Part 1 of 3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subdomain-ssl-with-gitlab-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Subdomain SSL with Gitlab Pages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vim-and-rust-in-2019" class="md-nav__link">
    <span class="md-ellipsis">
      Vim and Rust in 2019
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-vim-with-anaconda-python-support" class="md-nav__link">
    <span class="md-ellipsis">
      Building Vim with Anaconda Python Support
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2025/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2020/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2020
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lists
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Lists
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lists/books/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Books
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lists/podcast/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Podcast
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Programming
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/portfolio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Portfolio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/resume/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resume
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#connected-roomba-remote-lora" class="md-nav__link">
    <span class="md-ellipsis">
      Connected Roomba Remote - LoRa
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connected-roomba-possibilities" class="md-nav__link">
    <span class="md-ellipsis">
      Connected Roomba - Possibilities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-con-badge-with-pyportal" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Con Badge with PyPortal
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-dataclasses-for-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Using Dataclasses for Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-odbc-part-3-of-3" class="md-nav__link">
    <span class="md-ellipsis">
      What is ODBC Part 3 of 3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-odbc-part-2-of-3" class="md-nav__link">
    <span class="md-ellipsis">
      What is ODBC Part 2 of 3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-odbc-part-1-of-3" class="md-nav__link">
    <span class="md-ellipsis">
      What is ODBC Part 1 of 3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subdomain-ssl-with-gitlab-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Subdomain SSL with Gitlab Pages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vim-and-rust-in-2019" class="md-nav__link">
    <span class="md-ellipsis">
      Vim and Rust in 2019
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-vim-with-anaconda-python-support" class="md-nav__link">
    <span class="md-ellipsis">
      Building Vim with Anaconda Python Support
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="index">Index<a class="headerlink" href="#index" title="Permanent link">&para;</a></h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-08-02 00:00:00+00:00">August 2, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="connected-roomba-remote-lora"><a class="toclink" href="../../2019/08/02/connected-roomba-remote---lora/">Connected Roomba Remote - LoRa</a></h2>
<p>With a basic setup working the next thing I wanted to do was make communication wireless. Thinking about my options I
ruled out using WiFi pretty quick since I didn’t want to worry about discovery and router issues. I thought about
Bluetooth since I could send commands from my phone to the board on the Roomba, but decided against it due to my lack of
mobile programming experience and not wanting to add yet another new thing to learn. (Side note I’ve since learned about
the <a href="https://learn.adafruit.com/bluefruit-le-connect/features">Bluefruit app</a>) Looking at the
other <a href="https://www.adafruit.com/feather">Feather</a> options I decided to make use
of <a href="https://learn.adafruit.com/adafruit-feather/lora-radio-feathers">LoRa</a> for my communication layer since it would be
easy to use, my packets are tiny and I didn’t have to worry about software beyond CircuitPython.</p>
<h4 id="the-boards"><a class="toclink" href="../../2019/08/02/connected-roomba-remote---lora/#the-boards">The boards</a></h4>
<p>With the protocol determined and sticking with CircuitPython I found a <a href="https://www.adafruit.com/product/3179">Feather</a>
with LoRa built in, and a <a href="https://www.adafruit.com/product/4074">Pi Zero Bonnet</a> with some buttons and a small display
that would make testing easier. After reading through
the<a href="https://learn.adafruit.com/adafruit-feather-m0-radio-with-lora-radio-module">docs</a>
and <a href="https://learn.adafruit.com/lora-and-lorawan-radio-for-raspberry-pi/rfm9x-raspberry-pi-setup">tutorials</a> for both
boards I began work on signalling the Roomba to start with the push of a button.</p>
<p>One of the first road blocks I ran into was of my own creation. The Roomba library I wrote for prototyping was too big
for the Feather. The good news was OpenInterface was still useful, and there was plenty of room for the base class after
removing the debug and abstraction code, so I only compiled the commands I knew I was going to use for version 1 and
continued moving forward.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OpenInterface</span><span class="p">:</span>  
 <span class="k">def</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">txpin</span><span class="p">,</span> <span class="n">rxpin</span><span class="p">,</span> <span class="n">brcpin</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">115200</span><span class="p">):</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">board</span> <span class="o">=</span> <span class="n">busio</span><span class="o">.</span><span class="n">UART</span><span class="p">(</span><span class="n">txpin</span><span class="p">,</span> <span class="n">rxpin</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="n">baudrate</span><span class="p">)</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">txpin</span> <span class="o">=</span> <span class="n">txpin</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">rxpin</span> <span class="o">=</span> <span class="n">rxpin</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">brcpin</span> <span class="o">=</span> <span class="n">brcpin</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">brcpin</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">Direction</span><span class="o">.</span><span class="n">OUTPUT</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">baudrate</span> <span class="o">=</span> <span class="n">baudrate</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">stopped</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">def</span><span class="w"> </span><span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  
 <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopped</span><span class="p">:</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">wakeup</span><span class="p">()</span> <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="p">(</span><span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x80</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x83</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x87</span><span class="s2">&quot;</span><span class="p">):</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">command</span><span class="p">)</span> <span class="k">def</span><span class="w"> </span><span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  
 <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="p">(</span><span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x85</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\xAD</span><span class="s2">&quot;</span><span class="p">):</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">stopped</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">def</span><span class="w"> </span><span class="nf">wakeup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  
 <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">brcpin</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">False</span>  
 <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">brcpin</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">True</span>  
 <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>  
 <span class="bp">self</span><span class="o">.</span><span class="n">brcpin</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">False</span>  
 <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopped</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
<p>After stripping things down and getting the Feather to start and stop the Roomba from the REPL I turned my attention to
the Pi.</p>
<p><img alt="" src="../../../img/blog/0-Bss4nUz1dBKFSCf.jpg" /></p>
<p>With the Pi Zero providing more resources installing the OS, setting up SSH and compiling Python 3.7 took more time then
getting the Circuit Python libraries working. <a href="https://pypi.org/project/Adafruit-Blinka/">Blinka</a> worked like a charm
and following the docs from above I had a
quick <a href="https://github.com/n0mn0m/bot_commander/tree/main/pi/button_listener.py">script</a> to send start and stop packets
via LoRa working in no time.</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  
 <span class="k">try</span><span class="p">:</span>  
 <span class="k">if</span> <span class="ow">not</span> <span class="n">startbutton</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>  
 <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Starting Roomba.&quot;</span>  
 <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  
 <span class="n">rfm9x</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii&quot;</span><span class="p">))</span>  
 <span class="n">display</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  
 <span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  
 <span class="k">elif</span> <span class="ow">not</span> <span class="n">stopbutton</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>  
 <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Stopping Roomba.&quot;</span>  
 <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  
 <span class="n">rfm9x</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii&quot;</span><span class="p">))</span>  
 <span class="n">display</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  
 <span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>The display on the bonnet was a nice touch so that I could watch the Feather in a terminal while the Pi let me know
immediately which button was pressed and which command I should expect the Feather to receive.</p>
<p><img alt="" src="../../../img/blog/0mRuGD7rVD6u5Oenv.jpg" /></p>
<h4 id="next-steps"><a class="toclink" href="../../2019/08/02/connected-roomba-remote---lora/#next-steps">Next Steps</a></h4>
<p>With the boards talking to each other and the ability to start/stop the Roomba with the press of a button the last thing
to do was make this work when we are not at home. While LoRa has a pretty good range I wanted this to work for my wife
and I without having to worry about where we are. In part 3 I look at making this work with SMS.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-08-01 00:00:00+00:00">August 1, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="connected-roomba-possibilities"><a class="toclink" href="../../2019/08/01/connected-roomba---possibilities/">Connected Roomba - Possibilities</a></h2>
<p>A couple years ago at PyCon I received a kit from Adafruit containing
the <a href="https://www.adafruit.com/product/2769">Circuit Playground Express</a>. After going through the Hello World examples I
boxed it up I didn’t have a project ready to go. Fast forward to the winter of 2018 when I decided I would like to be
able to start our Roomba away from home because of the noise it makes, and suddenly I had the project I was looking for.
Digging around I found out about
the <a href="https://www.irobotweb.com/%7E/media/MainSite/PDFs/About/STEM/Create/iRobot_Roomba_600_Open_Interface_Spec.pdf">Roomba Open Interface</a>
and set out to start talking to my Roomba with <a href="https://circuitpython.org/">CircuitPython</a>.</p>
<h4 id="will-this-work"><a class="toclink" href="../../2019/08/01/connected-roomba---possibilities/#will-this-work">Will this work</a></h4>
<p>After reading through the Open Interface spec I decided it should be possible for me to control the Roomba by using the
Circuit Playground Express that I had waiting on the shelf. Getting the kit out and using the clips available I
connected the Playground Express TX to the Roomba RX, opened a REPL and tried to wake the Roomba, but received no
response.</p>
<p>After some more searching
I <a href="https://robotics.stackexchange.com/questions/18302/irobot-600-series-oi-wake-from-sleep-via-brc">found out</a> that
certain series firmware will not respond to wake commands after 5 minutes without a signal. Knowing this, and pressing
the power button once to wake the Roomba, I was able to START, STOP and DOCK the Roomba with controller code running on
the Playground Express.</p>
<p><img alt="" src="../../../img/blog/1b31hiO4ynbDLRrXWEFF4aQ.png" /></p>
<h4 id="next-steps"><a class="toclink" href="../../2019/08/01/connected-roomba---possibilities/#next-steps">Next steps</a></h4>
<p>After spending some more time confirming command structures, documentation and behavior between CircuitPython and the
Roomba Open Interface I decided to make things easier by building a <a href="https://pypi.org/project/circuitroomba/">package</a>
to abstract the interactions. With basic wiring and command functionality confirmed I decided it was time to start
looking at making remote signalling covered in part 2.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-07-14 00:00:00+00:00">July 14, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              6 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="creating-a-con-badge-with-pyportal"><a class="toclink" href="../../2019/07/14/creating-a-con-badge-with-pyportal/">Creating a Con Badge with PyPortal</a></h2>
<p>Recently I've heard about multiple people working on con badges and decided to try my hand at a simple take on the idea.
Since I had just recently received my PyPortal Adabox I thought I would use that as my first platform to get started.</p>
<p>From the product <a href="https://www.adafruit.com/product/4116">page</a> the PyPortal is:</p>
<blockquote>
<p><em>An easy-to-use IoT device that allows you to create all the things for the “Internet of Things” in minutes. Make
custom touch screen interface GUIs, all open-source, and Python-powered using tinyJSON / APIs to get news, stock,
weather, cat photos, and more – all over Wi-Fi with the latest technologies. Create little pocket universes of joy that
connect to something good. Rotate it 90 degrees, it’s a web-connected conference badge #badgelife.</em>Like many other
CircuitPython powered devices the PyPortal has a great <a href="https://learn.adafruit.com/adafruit-pyportal">Explore and Learn</a>
page available that walks you through getting the right firmware installed as well as providing hardware breakdowns,
code demos and FAQ.</p>
</blockquote>
<p>Once I had the PyPortal up to date and had gone through a couple demos I landed on having my first badge being a simple
menu systems. While many badges will contain easter eggs or ways to interact with other badges I decided to keep it
simple for this first run. I wanted my badge to be able to display a couple pieces of static data and have a couple
interactive options.</p>
<p>I landed on a Button menu that would show a couple maps, a photo of my badge, a countdown to Gen Con, and a simple D20
roller.</p>
<p>Along the way I made extensive use of the <a href="https://circuitpython.readthedocs.io/en/latest/">docs</a>
and <a href="https://github.com/adafruit">source code</a> that <a href="https://www.adafruit.com/">Adafruit</a> provides.</p>
<p>I also found it easy to find documentation for the module I would pull in from the library modules by referencing the
list of submodules on <a href="https://readthedocs.org/projects/circuitpython/">Read the Docs</a></p>
<h4 id="curiosities"><a class="toclink" href="../../2019/07/14/creating-a-con-badge-with-pyportal/#curiosities">Curiosities</a></h4>
<p>While building my badge I ran into some interesting edges that I hope to explore further. I'm sharing these here just in
case somebody else reads this and can avoid similar pitfalls or suggest a different direction.</p>
<ul>
<li>Large buttons seem to lead to performance and OOM errors</li>
<li>Originally my menu had 8 buttons (one with information about Adafruit, another with information about the project),
  but that wasn't stable. After 3 or 4 clicks gc or something else couldn't keep up with the memory allocation and the
  badge would crash with a MemoryError</li>
<li>My schedule was also a menu of buttons originally. This let me setup a list of tuples I could manipulate in code, but
  when I had 5 buttons span the screen render time was visibly slow, and lead to inconsistent OOM errors.</li>
<li>Different fonts have different performance characteristics</li>
<li>Looking back this makes sense. Different glyphs will have different structures. Depending on that a glyph can place
  different loads on the system. I tried a few of the "performance" font from GoogleFonts, but ultimately landed on
  Arial Bold for a font that looked consistent, rendered quickly and didn't have a large file size.</li>
<li>Better ways to sleep?</li>
<li>My badge spends a lot of time in the main super loop polling if a button has been pressed. At this time I don't think
  CircuitPython supports interrupts. I hope in the future i can figure out a better was to let the device sleep, but
  capture an interrupt type event such as the display being touched.</li>
<li>PDB for CircuitPython</li>
<li>I spent a lot of time running snippets in the REPL. This is a nice experience to have for an embedded device, but I do
  miss having PDB or WebPDB to drop a breakpoint in my code, let it run and then inspect the stack, heap etc from a
  given point in my program. I believe MicroPython contains this functionality so I'm guessing it's possible with
  CircuitPython I just haven't dug in to make it happen yet.</li>
</ul>
<h4 id="lessons-learned"><a class="toclink" href="../../2019/07/14/creating-a-con-badge-with-pyportal/#lessons-learned">Lessons Learned</a></h4>
<p>Similar to the interesting behaviors I found above I learned a bit about developing with CircuitPython and how it can
differ from my day to day Python development along the way.</p>
<ul>
<li>Python data structure sizes</li>
<li>Many code bases make liberal use of dictionaries. In fact some say that Python is built on top of the dict data
  structure. It's incredibly useful to look items up by key, and provides some human readability over indexing into a
  collection with no reference beyond position. That said Dictionaries are one of
  the <a href="https://stackoverflow.com/questions/1331471/in-memory-size-of-a-python-structure/1331541#1331541">largest</a>
  builtin Python objects. One of the reasons for this is something called a load factor that I won't go into now, but
  suffice to say as you add more objects to a dictionary and it approaches a given load factor it will automatically
  grow in size. Because of this in a memory constrained environment I found myself removing dictionaries or list of
  dicts and using more tuples and list of tuples.</li>
<li>Take out the garbage</li>
<li>Python Garbage Collection is handled via reference counting. Because of this it's important to think about when an
  object (especially large objects ) you are using come in scope, and when they leave scope. In an environment like
  CircuitPython you may also want to call gc.collect() when you leave scopes with large objects to make sure they are
  garbage collected before you carry on. This can help avoid some OOM errors.</li>
<li>Careful wih that indirection.</li>
<li>I found myself removing helper functions and other pieces of code that helped keep things "clean". Often times I did
  this because I was hitting performance of OOM errors that would go away when I put the functionality in the parent
  scope. Because of this I have repeated code, and code that isn't what I would expect to pass code review day to day,
  but it works, achieved stability and gave the performance I'm looking for on my badge.</li>
<li>Testing and profiling for this environment is still a challenge for me.</li>
<li>I would love to be able to write a test for my function and then profile that test to capture things like stack depth,
  object sizes, timing, etc. And since I have a test I could do this N times to see what kind of behaviors emerge.
  Instead right now I manually make a change and validate. Because of this I think I'm building an intuition of what is
  happening, but I can't verify it which leads me to assume my understanding has gaps, and potentially wrong assumptions
  today. Making this better can help me address the point above.</li>
</ul>
<h4 id="next-steps"><a class="toclink" href="../../2019/07/14/creating-a-con-badge-with-pyportal/#next-steps">Next Steps</a></h4>
<p>So with v1 of the badge prepared and ready for Gen Con 2019 I'm going to step back and work on some other items in this
space. While working on the project I found out that labels don't support an orientation flag. After mentioning this in
discord I opened an <a href="https://github.com/adafruit/Adafruit_CircuitPython_Display_Button/issues/9">issue</a> on Github with
some encouragement from @ladyada. Hopefully I can spend some cycles working on that.</p>
<p>I also continue to think about how to write tests for CircuitPython. Since the runtime is tied to the boards it's not as
simple as running the code in a CPython unittest environment. While there is a lot of overlap in the API and behavior
it's not a one to one match. I think being able to test the code would lead to faster development cycles and would open
the door to better profiling and understanding of my applications behavior.</p>
<p>Finally I plan to back up and read Making Embdedded Systems by Elicia White and visit some other embedded getting
started materials. While I had a lot of ideas for this project (and I'm happy with how it turned out) I realized that
since I'm not as familiar with this type of hardware environment I struggled at times to get the functionality I was
looking for with the performance I needed.</p>
<h4 id="acknowledgements"><a class="toclink" href="../../2019/07/14/creating-a-con-badge-with-pyportal/#acknowledgements">Acknowledgements</a></h4>
<p>Thanks to the team at Adafruit. The devices they build and the creation of CircuitPython has lead me to pick up a hobby
that continues to be fun and encourages me to think in new ways about hardware and the programs I'm writing.
Additionally Adafruit has
a <a href="https://blog.adafruit.com/2017/07/20/adafruit-is-on-discord-discordapp-adafruit-discord-adafruit/">discord</a> where
many people have been incredibly patient and helpful as I learn and ask questions.</p>
<h4 id="contact"><a class="toclink" href="../../2019/07/14/creating-a-con-badge-with-pyportal/#contact">Contact</a></h4>
<p>I've really enjoyed working on this project. If you want to reach out feel free to follow up
via <a href="mailto:n0mn0m@burningdaylight.io">email</a> or on.</p>
<p>You can find out more about the badge and source code in the <a href="https://github.com/n0mn0m/gencon-portal">repo</a></p>
<h5 id="more-photos"><a class="toclink" href="../../2019/07/14/creating-a-con-badge-with-pyportal/#more-photos">More Photos</a></h5>
<p>Some additional photos of the portal. I've ordered a case
off <a href="https://www.thingiverse.com/search?q=pyportal&amp;dwh=345d2cd0845a6f9">thingiverse</a> , but using the Adabox case while I
wait.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-06-23 00:00:00+00:00">June 23, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="using-dataclasses-for-configuration"><a class="toclink" href="../../2019/06/23/using-dataclasses-for-configuration/">Using Dataclasses for Configuration</a></h2>
<p>Introduced in Python 3.7 dataclasses are normal Python classes with some extra features for carrying around data and
state. If you find yourself writing a class that is mostly attributes it's a dataclass.</p>
<p>Dataclasses have some other nifty features out of the box such as default double underscore methods, type hinting, and
more.</p>
<p>For more information checkout the <a href="https://docs.python.org/3/library/dataclasses.html">docs</a>.</p>
<h4 id="dataclasses-as-configuration-objects"><a class="toclink" href="../../2019/06/23/using-dataclasses-for-configuration/#dataclasses-as-configuration-objects">Dataclasses as configuration objects</a></h4>
<p>Recently I’ve had the opportunity to work on a couple of Python 3.7 projects. In each of them I was interacting with
many databases and API Endpoints. Towards the beginning of one of the projects I did something like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">elasticconfig</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;ESUSER&quot;</span><span class="p">],</span>  
 <span class="s2">&quot;endpoint&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;ESENDPOINT&quot;</span><span class="p">],</span>  
 <span class="o">...</span>  
 <span class="p">}</span><span class="n">When</span> <span class="n">I</span> <span class="n">checked</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">code</span> <span class="n">I</span> <span class="n">had</span> <span class="n">been</span> <span class="n">working</span> <span class="n">on</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">reviewers</span> <span class="n">commented</span> <span class="n">that</span> <span class="n">this</span> <span class="n">pattern</span> <span class="n">was</span> <span class="n">normal</span><span class="p">,</span> <span class="n">but</span> <span class="n">since</span> <span class="n">we</span> <span class="n">were</span> <span class="n">using</span> <span class="mf">3.7</span> <span class="n">let</span><span class="err">’</span><span class="n">s</span> <span class="n">use</span> <span class="n">a</span> <span class="n">dataclass</span><span class="o">.</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>  
<span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span><span class="nd">@dataclass</span>  
<span class="k">class</span><span class="w"> </span><span class="nc">ElasticConfiguration</span><span class="p">:</span>  
 <span class="n">user</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;ESUSER&quot;</span><span class="p">]</span>  
 <span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;ESENDPOINT&quot;</span><span class="p">]</span>  
</code></pre></div>
<p>...Makes sense, but what’s the practical benefit? Before I wasn’t defining a class and carrying around the class model
that I’m not really using.</p>
<ol>
<li>Class attribute autocomplete. I can’t tell you how many times I used to check if I had the right , casing,
   abbreviation etc for the key I was calling. Now it's a class attribute, no more guessing.</li>
<li>Hook up mypy and find some interesting errors.</li>
<li>Above you’ll notice I used os.environ[]. A lot of people like to use an alternative .get(<key>)pattern with
   dictionaries. The problem is often times a default of None gets supplied and you're dealing with Optional[T], but
   still acting like it's str everywhere in your code.</li>
<li>postinit</li>
<li>Dataclasses have an interesting method
   called <a href="https://docs.python.org/3/library/dataclasses.html#post-init-processing">postinit</a> that gets called by init.
   On configuration objects this is a handy place to put any validation function/method calls you might build around
   attributes.</li>
<li>Subjectively elastic.user is faster to type, and more appealing to the eyes than elastic["user"].
   So the next time you find yourself passing around configuration information remember dataclasses may be a useful and
   productive alternative to passing around a dictionary.</li>
</ol>
<h4 id="additional-resources"><a class="toclink" href="../../2019/06/23/using-dataclasses-for-configuration/#additional-resources">Additional Resources</a></h4>
<p>Beyond the docs here are some links I found useful when learning about Python dataclasses.</p>
<ul>
<li><a href="https://realpython.com/python-data-classes/">Real Python: Dataclasses</a></li>
<li><a href="https://stackoverflow.com/questions/47955263/what-are-data-classes-and-how-are-they-different-from-common-classes">Stack Overflow: What’s the difference between a class and data class</a></li>
<li><a href="https://hackernoon.com/a-brief-tour-of-python-3-7-data-classes-22ee5e046517">Hackernoon: Dataclasses tour</a></li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-05-24 00:00:00+00:00">May 24, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="what-is-odbc-part-3-of-3"><a class="toclink" href="../../2019/05/24/what-is-odbc-part-3-of-3/">What is ODBC Part 3 of 3</a></h2>
<h4 id="for-more-information-see-part-one-and-part-two"><a class="toclink" href="../../2019/05/24/what-is-odbc-part-3-of-3/#for-more-information-see-part-one-and-part-two">For more information see <a href="https://burningdaylight.io/posts/what-is-odbc/">part one</a> and <a href="https://burningdaylight.io/posts/what-is-odbc-pt2/">part two</a></a></h4>
<h4 id="setting-up"><a class="toclink" href="../../2019/05/24/what-is-odbc-part-3-of-3/#setting-up">Setting Up</a></h4>
<p>Just like any other piece of software we can make use of debuggers to step through our application code and see what is
happening with ODBC. To do this with Python you should be running a version with debug symbols included. You can do this
via:</p>
<div class="highlight"><pre><span></span><code><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">python</span><span class="o">/</span><span class="n">cpython</span><span class="o">.</span><span class="n">git</span>  
<span class="n">mkdir</span> <span class="n">debug</span>  
<span class="n">cd</span> <span class="n">debug</span>  
<span class="o">../</span><span class="n">configure</span> <span class="o">--</span><span class="k">with</span><span class="o">-</span><span class="n">pydebug</span>  
<span class="n">make</span>  
<span class="n">make</span> <span class="n">testAdditionally</span> <span class="n">you</span> <span class="n">will</span> <span class="n">want</span> <span class="n">to</span> <span class="n">clone</span> <span class="n">pyodbc</span> <span class="n">so</span> <span class="n">that</span> <span class="n">we</span> <span class="n">can</span> <span class="n">make</span> <span class="n">use</span> <span class="n">of</span> <span class="n">symbols</span><span class="o">.</span>

<span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">mkleehammer</span><span class="o">/</span><span class="n">pyodbc</span><span class="o">.</span><span class="n">git</span>  
<span class="n">CFLAGS</span><span class="o">=</span><span class="s1">&#39;-Wall -O0 -g&#39;</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build</span>
</code></pre></div>
<p>Finally you’ll need some code and a database to interact with. If you want I have an
example <a href="https://gitlab.com/n0mn0m/what-is-odbc">repo</a> which uses docker to start Postgres and/or MSSQL. It also
contains some python example code and pyodbc in the repo for debugging.</p>
<p>One final note, if you wish to explore code all the way into the driver manager and/or driver you will need a debug
version of each. For Mac and Linux you can do this with unixodbc found <a href="http://www.unixodbc.org/">here</a>
or <a href="https://github.com/lurcher/unixODBC">here</a> and specify debug with make similar to CPython above. For a debug driver
build checkout <a href="https://odbc.postgresql.org/">Postgres psqlodbc</a>.</p>
<h4 id="stepping-through"><a class="toclink" href="../../2019/05/24/what-is-odbc-part-3-of-3/#stepping-through">Stepping through</a></h4>
<p>I’m writing this on OSX, but the concepts are the same regardless of platform. On OSX you can use LLDB or GDB (I used
LLDB as a learning exercise), on Linux GDB is probably your go to and on Windows you can use WinGDB or the debugger
built into Visual Studio for C/C++.</p>
<p>From the command line start your debugger, or if using GDB/LLDB call your tool with the -f flag specifying you want to
load a file and call Python with your debugger so the Python interpreter will run the file inside your debugger.</p>
<div class="highlight"><pre><span></span><code>lldb<span class="w"> </span>-f<span class="w"> </span>python<span class="w"> </span>--<span class="w"> </span>-m<span class="w"> </span>pdb<span class="w"> </span>main.py
</code></pre></div>
<p>From here you can execute the application, use normal step, thread and frame functions to inspect the stack at different
steps or get additional dump file information. Some breakpoints I found interesting can be set with:</p>
<div class="highlight"><pre><span></span><code>breakpoint<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--file<span class="w"> </span>connection.cpp<span class="w"> </span>--line<span class="w"> </span><span class="m">232</span><span class="w">  </span>
breakpoint<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--file<span class="w"> </span>connection.cpp<span class="w"> </span>--line<span class="w"> </span><span class="m">52</span><span class="w">  </span>
breakpoint<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--file<span class="w"> </span>cursor.cpp<span class="w"> </span>--line<span class="w"> </span><span class="m">1100</span><span class="w">  </span>
breakpoint<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--file<span class="w"> </span>getdata.cpp<span class="w"> </span>--line<span class="w"> </span>776runIn<span class="w"> </span><span class="k">case</span><span class="w"> </span>it<span class="w"> </span>is<span class="w"> </span>helpful<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>find<span class="w"> </span>an<span class="w"> </span>lldb<span class="w"> </span>to<span class="w"> </span>gdb<span class="w"> </span>map<span class="w"> </span><span class="o">[</span>here<span class="o">](</span>https://lldb.llvm.org/use/map.html<span class="o">)</span>.
</code></pre></div>
<h4 id="contact"><a class="toclink" href="../../2019/05/24/what-is-odbc-part-3-of-3/#contact">Contact</a></h4>
<p>If you have experience with ODBC internals, want to correct something I’ve written or just want to reach out feel free
to follow up via <a href="mailto:n0mn0m@burningdaylight.io">email</a> or on .</p>
<p>I also have a <a href="https://github.com/n0mn0m/presentations">repo</a> with the material I used for a presentation on this at
the <a href="https://www.meetup.com/derbypy/">Louisville DerbyPy</a> meetup in March of 2019.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-05-18 00:00:00+00:00">May 18, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="what-is-odbc-part-2-of-3"><a class="toclink" href="../../2019/05/18/what-is-odbc-part-2-of-3/">What is ODBC Part 2 of 3</a></h2>
<p>In the first article I mentioned that ODBC (Open Database Connectivity) is a specification for a database API creating a
standard way for applications to interact with various databases via a series of translation and application layers. To
create this standard abstraction ODBC has two components, the driver and the driver manager.</p>
<h4 id="odbc-driver"><a class="toclink" href="../../2019/05/18/what-is-odbc-part-2-of-3/#odbc-driver">ODBC Driver</a></h4>
<p>Within ODBC the driver encapsulates the functionality needed to map various functions to underlying system calls. This
functionality spans calls to connect, query, disconnect and more depending on what the target data source provides.
While almost all drivers provide the prior basic interactivity others many expose more advanced functionality like
concurrent cursors, query translation, encryption and more. It’s worth reviewing your ODBC driver docs to see what
features you might use specific to your data source. While ODBC provides a useful abstraction for connecting to data
sources it’s worth using whatever additional functionality is available to make your application perform it’s best and
keep your data secure on the wire.</p>
<h4 id="odbc-driver-manager"><a class="toclink" href="../../2019/05/18/what-is-odbc-part-2-of-3/#odbc-driver-manager">ODBC Driver Manager</a></h4>
<p>Ok so the ODBC driver encapsulates the functionality for interacting with our data source what do we need a driver
manager for? First it’s not uncommon that you may want your application to interact with various different data sources
of the same type. When this happens the driver manager provides the management and concept of the DSN. The DSN (data
source name) contains the information required to connect to the data source (host, port, user etc for more information
checkout <a href="https://www.connectionstrings.com/">connection strings</a> since the driver manager can save these to a name you
specify. This way you can have one driver (for instance Postgres or Elasticsearch) that can be used to connect to
various different data sources from the same vendor. In addition to this the driver manager is responsible for keeping
up with what drivers are available on the system and exposing that information to applications. By knowing what drivers
and DSNs are available the driver manager can sit in between your application and the ODBC driver making sure the
connection information and data passed back and forth is mapped to the right system and that return calls from the
driver get mapped back for use by applications.</p>
<h4 id="next-up"><a class="toclink" href="../../2019/05/18/what-is-odbc-part-2-of-3/#next-up">Next Up</a></h4>
<p>Last up in post 3 I plan on exploring ODBC from the application layer to the driver layer with Python and pyodbc looking
to trace internals and see exactly how and where different layers connect.</p>
<h4 id="contact"><a class="toclink" href="../../2019/05/18/what-is-odbc-part-2-of-3/#contact">Contact</a></h4>
<p>If you have experience with ODBC internals, want to correct something I’ve written or just want to reach out feel free
to follow up via <a href="mailto:n0mn0m@burningdaylight.io">email</a> or on .</p>
<p>I also have a <a href="https://github.com/n0mn0m/presentations">repo</a> with the material I used for a presentation on this at
the <a href="https://www.meetup.com/derbypy/">Louisville DerbyPy</a> meetup in March of 2019.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-03-31 00:00:00+00:00">March 31, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="what-is-odbc-part-1-of-3"><a class="toclink" href="../../2019/03/31/what-is-odbc-part-1-of-3/">What is ODBC Part 1 of 3</a></h2>
<p>At my last job we used pyodbc to manage database interactions in a few different projects. We did this because we
interacted with 5 different relational databases, and not all of them had native driver libraries for Python. In
addition to this our use of pyodbc meant that we had a nice consistent database API for on-boarding, or when somebody
needed to interact with a database that might be new to them for their project. Recently though I had somebody ask me
what ODBC was, and to be honest I didn’t have a good answer. I’ve used ODBC libraries in multiple languages, but I
hadn’t really dug into the nuts and bolts of what it was because I hadn’t needed to. I knew enough to use it, it worked
well and there were bigger problems to solve. It’s a good question though. What is ODBC?</p>
<p>At a high level ODBC (Open Database Connectivity) is a specification for a database API creating a standard way for
applications to interact with various databases via a series of translation and application layers. It is independent of
any specific database, language or operating system. The specification lays out a series of functions that expose
database functionality across systems. It’s an interesting, and I would say fairly successful abstraction since many
programmers know how to connect, query and process data (via ODBC) in their language, but maybe they have never read
sql.h or the SQLBrowseConnect function. For the full API Reference
check <a href="https://docs.microsoft.com/en-us/sql/odbc/reference/syntax/odbc-api-reference?view=sql-server-2017">here</a>.</p>
<h4 id="api-vs-protocol"><a class="toclink" href="../../2019/03/31/what-is-odbc-part-1-of-3/#api-vs-protocol">API vs Protocol</a></h4>
<p>Quick side note. You may have heard about wire protocols and databases. ODBC is not a protocol; it is an API. This is
important because databases tend to define their own wire protocols (some share this now with things like the Postgres
wire protocol being OSS) that dictate the sequence in which events or bytes must happen for communication to work. ODBC
as an API doesn’t dictate this kind of detail, instead it describes how to expose the database functionality to the
programmer consistently independent of the database.</p>
<p>API: describes all valid functionality and interactions Protocol: defines the sequence of operations and bytes.</p>
<h4 id="why-odbc"><a class="toclink" href="../../2019/03/31/what-is-odbc-part-1-of-3/#why-odbc">Why ODBC</a></h4>
<p>If databases define their own protocols and have their own way of communicating why should we worry about ODBC? Turns
out there are a <a href="https://hpi.de/naumann/projects/rdbms-genealogy.html">lot</a> of databases you can use. Factor in an
explosion of languages and operating systems and suddenly you have as many developers writing low level wrappers for
database drivers as you do building your actual product. Instead ODBC provides a standard for database developers to
expose functionality without developers having to reinvent new bindings for each new language, database, operating
system combination. You can read
more <a href="https://docs.microsoft.com/en-us/sql/odbc/reference/why-was-odbc-created?view=sql-server-2017">here</a></p>
<h4 id="next-up"><a class="toclink" href="../../2019/03/31/what-is-odbc-part-1-of-3/#next-up">Next Up</a></h4>
<p>Now that we know ODBC is an API I want to look at the architecture of ODBC. In my next post I will cover the driver
manager, ODBC drivers and the ODBC API. After that I plan on exploring ODBC from the application layer through the
driver layer with Python and pyodbc looking to trace internals and see exactly how and where different layers connect.</p>
<h4 id="contact"><a class="toclink" href="../../2019/03/31/what-is-odbc-part-1-of-3/#contact">Contact</a></h4>
<p>If you have experience with ODBC internals, want to correct something I’ve written or just want to reach out feel free
to follow up via <a href="mailto:n0mn0m@burningdaylight.io">email</a> or on .</p>
<p>I also have a <a href="https://github.com/n0mn0m/presentations">repo</a> with the material I used for a presentation on this at
the <a href="https://www.meetup.com/derbypy/">Louisville DerbyPy</a> meetup in March of 2019.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-02-10 00:00:00+00:00">February 10, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="subdomain-ssl-with-gitlab-pages"><a class="toclink" href="../../2019/02/10/subdomain-ssl-with-gitlab-pages/">Subdomain SSL with Gitlab Pages</a></h2>
<p><strong>This is out of date, I have since switched to self hosting gitea and AWS.</strong></p>
<p>A few months ago I decided to migrate my Pelican site from Github to Gitlab. This was motivated largely by that fact
that Gitlab has CI/CD built in by default. During this migration I also decided it was time to setup my own SSL
certificate for <a href="https://burningdaylight.io/">burningdaylight.io</a>. Since this was new I looked around to see if there
was any documentation readily available , and I
found <a href="https://fedoramagazine.org/gitlab-pelican-lets-encrypt-secure-blog/">this</a> wonderful tutorial from Fedora
Magazine.</p>
<p>Between that and the
Gitlab <a href="https://docs.gitlab.com/ee/user/project/pages/getting_started_part_three.html">custom domain and ssl</a> I was able
to get up and running pretty quickly. I had accomplished my goals:</p>
<ul>
<li>migrate to Gitlab</li>
<li>setup CI/CD of the Pelican site project</li>
<li>setup ssl</li>
</ul>
<p>Good to go, done in an afternoon with plenty of time to work on a new post. I thought.</p>
<p>About a week later I was on a different computer and instead of browsing
to <a href="https://burningdaylight.io/">https://burningdaylight.io</a> I went
to <a href="https://www.burningdaylight.io/">https://www.burningdaylight.io</a> and Firefox blocked my request citing an SSL
certificate error. Wondering what I had done wrong I started tracing back through what I had done and realized that I
had only setup SSL certificate for my primary domain. Luckily last year lets encrypt added support
for <a href="https://community.letsencrypt.org/t/certbot-0-22-0-release-with-acmev2-and-wildcard-support/55061">wildcard</a>
certificates to certbot. Unfortunately that has not been included in
a <a href="https://community.letsencrypt.org/t/certbot-the-currently-selected-acme-ca-endpoint-does-not-support-issuing-wildcard-certificates/55667/8">release</a>
so there’s a couple steps that differ from the original Fedora article above.</p>
<h4 id="setup-instructions"><a class="toclink" href="../../2019/02/10/subdomain-ssl-with-gitlab-pages/#setup-instructions">Setup Instructions</a></h4>
<p>Below are the steps to use certbot, gitlab pages and your domain management console to setup SSL for your subdomains.
This assumes you are using a Debian based OS (I’m using Ubuntu 18.04) to install Certbot. If not swap out the certbot
install steps for your OS and continue.</p>
<p><strong>If you read the Fedora article linked above you do not need another key in </strong>.well-known<strong>. Instead for your subdomain
you will validate with certbot by a DNS record setup via your Domain Management Console.</strong></p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>aptget<span class="w"> </span>install<span class="w"> </span>certbotcertbot<span class="w"> </span>certonly<span class="w"> </span>-a<span class="w"> </span>manual<span class="w"> </span>-d<span class="w"> </span>*.&lt;yourdomainhere&gt;.&lt;topleveldomainhere&gt;<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--config-dir<span class="w"> </span>~/letsencrypt/config<span class="w"> </span>--work-dir<span class="w"> </span>~/letsencrypt/work<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--logs-dir<span class="w"> </span>~/letsencrypt/logs<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--server<span class="w"> </span>&lt;https://acme-v02.api.letsencrypt.org/directory&gt;Follow<span class="w"> </span>the<span class="w"> </span>instructions<span class="w"> </span>entering<span class="w"> </span>your<span class="w"> </span>email,<span class="w"> </span>reviewing<span class="w"> </span>ToS,<span class="w"> </span>etc
</code></pre></div>
<p>You will then see this prompt:</p>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span>deploy<span class="w"> </span>a<span class="w"> </span>DNS<span class="w"> </span>TXT<span class="w"> </span>record<span class="w"> </span>under<span class="w"> </span>the<span class="w"> </span>name<span class="w">  </span>
acme-challenge.burningdaylight.io<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>value:
</code></pre></div>
<p>Login to your domain management console and setup a txt record similar to:</p>
<div class="highlight"><pre><span></span><code>NAMETYPETTLVALUEacme-challengeTXT1800your<span class="w"> </span>code<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>terminal<span class="w"> </span>prompt<span class="w"> </span>above
</code></pre></div>
<p>Once you have this setup it’s a good idea to wait a couple minutes since this record will populate via DNS and then
return to your console and hit enter.</p>
<p>Once certbot validates the TXT record is available as part of your domain it will provide you the new location of your
fullchain.pem and privkey.pem files for use with Gitlab pages.</p>
<p>With these files ready to go browse to your Gitlab page settings and setup your subdomains as documented here
and <a href="https://docs.gitlab.com/ee/user/project/pages/getting_started_part_three.html">here</a>.</p>
<p>I highly recommend reading the Gitlab documentation above, but to summarize:</p>
<ul>
<li>In your Gitlab pages project settings click add a new site</li>
<li>Enter the url</li>
<li>Add the data from your fullchain.pem and privkey.pem files generated via certbot</li>
<li>Copy the gitlab-pages-verfication-code= section from the Gitlab validation record box</li>
<li>Login to your domain management console</li>
<li>Setup a new TXT record for your subdomain: NAMETYPETTLVALUEWWWTXT1800gitlab-pages-verification-code=</li>
<li>Setup a new A record for</li>
</ul>
<p><a href="https://docs.gitlab.com/ee/user/project/pages/getting_started_part_three.html">Gitlab</a></p>
<div class="highlight"><pre><span></span><code>NAMETYPETTLVALUEWWWA180035.185.44.232
</code></pre></div>
<ul>
<li>Return to your Gitlab Pages settings console and click the verify button.</li>
</ul>
<h4 id="wrapping-up"><a class="toclink" href="../../2019/02/10/subdomain-ssl-with-gitlab-pages/#wrapping-up">Wrapping Up</a></h4>
<p>With that you pages should show green and verified. If you browse to the different subdomains you setup then you should
get through without any SSL problems.</p>
<p>One thing to note is that you will need to renew your certbot certificate every 90 days. This is done via the certbot
renew command. I've setup an Airflow dag to take care of this since I have Airflow managing various other things for me.
You can see that <a href="https://gitlab.com/n0mn0m/docker-airflow">here</a></p>
<p>Hopefully you find the above helpful. If you run into issues I recommend:</p>
<ul>
<li>Make sure you used the * wildcard in the domain cert setup</li>
<li>Setup your acme-challenge record correctly in your domain management console and left it there</li>
<li>Setup the right TXT and A records for Gitlab</li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-01-18 00:00:00+00:00">January 18, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="vim-and-rust-in-2019"><a class="toclink" href="../../2019/01/18/vim-and-rust-in-2019/">Vim and Rust in 2019</a></h2>
<p>I’ve been using Vim as my primary editor for a few months now. Recently I wanted to revisit some project work in Rust,
but I hadn’t setup any tooling in Vim for rust yet. The first couple of hits I got on Google were great resources that
I’ll provide links to, but they were also over a year old, so while using them as a starting point I’m documenting my
setup since some things have changed from 2017.</p>
<h4 id="tooling"><a class="toclink" href="../../2019/01/18/vim-and-rust-in-2019/#tooling">Tooling</a></h4>
<p>Core Installs:</p>
<ul>
<li><a href="https://www.rust-lang.org/tools/install">Rust with rustup</a></li>
<li>
<p><a href="https://github.com/racer-rust/racer">Racer</a>
  Autocomplete:</p>
</li>
<li>
<p><a href="https://github.com/Valloric/YouCompleteMe">YouCompleteMe</a>
  Language Server Protocol</p>
</li>
<li>
<p><a href="https://github.com/prabirshrestha/vim-lsp">vim-lsp</a></p>
</li>
<li><a href="https://github.com/rust-lang/rls">RLS — Rust Language Server</a>
  So far this has been a fairly pain free experience. As I use this (and vim) more I will likely add some updates
  related to packaging, compiling and debugging in Vim, but for now these are the tools that got me started. One thing
  to note is that I recommend installing in the order above and following the install directions (especially for the
  lsp) since those appear to have made some QoL changes in the last year.</li>
</ul>
<p>Source
Articles: <a href="https://kadekillary.work/post/rust-ide/">https://kadekillary.work/post/rust-ide/</a> <a href="https://ddrscott.github.io/blog/2018/getting-rusty-with-vim/">https://ddrscott.github.io/blog/2018/getting-rusty-with-vim/</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-01-02 00:00:00+00:00">January 2, 2019</time></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="building-vim-with-anaconda-python-support"><a class="toclink" href="../../2019/01/02/building-vim-with-anaconda-python-support/">Building Vim with Anaconda Python Support</a></h2>
<p>This morning I was setting up a RHEL 7 box for development using my normal dot files, but when I was ready to sit down
and start working on my project I noticed I got an error from You Complete Me letting me know that the version of vim
that was installed wasn't compatible. After checking EPEL for a more up to date install I decided to try pulling vim
from source and building it myself.</p>
<p>Luckily this wasn’t too hard, but I did run into a small issue related to the vim .config --with-python* flags since I'm
using conda as my Python environment manager. The short story is the vim needs some information from the Python config
directory to enable python and python3 support. When you use Anaconda or Minionda to manage your environments these are
in slightly different locations than the normal /usr or /lib64 paths you may find in vim build documentation. Instead
they will be in your conda environment lib as seen below.</p>
<p>Install additional build dependencies.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>cmake<span class="w"> </span>gcc-c++<span class="w"> </span>make<span class="w"> </span>ncurses-devel
</code></pre></div>
<p>Clone vim source, configure and build. Specifically pay attention to the — with-python* flags and the config directory
they use in your conda environment.</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/vim/vim.gitpushd<span class="w"> </span>~/vim/src./configure<span class="w"> </span>--with-features<span class="o">=</span>huge<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--enable-multibyte<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--enable-rubyinterp<span class="o">=</span>yes<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--enable-pythoninterp<span class="o">=</span>yes<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--with-python-config-dir<span class="o">=</span>/work/alex/miniconda3/envs/py27/lib/python2.7/config<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--enable-python3interp<span class="o">=</span>yes<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--with-python3-config-dir<span class="o">=</span>/work/alex/miniconda3/lib/python3.6/config-3.6m-x8664-linux-gnu<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--enable-perlinterp<span class="o">=</span>yes<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--enable-luainterp<span class="o">=</span>yes<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--enable-cscope<span class="w"> </span><span class="se">\ </span><span class="w"> </span>
--prefix<span class="o">=</span>/home/alex/.local/vim<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>pythonmake<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>installpopdFinally<span class="w"> </span><span class="k">if</span><span class="w"> </span>you<span class="w"> </span>use<span class="w"> </span>a<span class="w"> </span>custom<span class="w"> </span>prefix<span class="w"> </span>as<span class="w"> </span>seen<span class="w"> </span>above<span class="w"> </span><span class="o">(</span>prevents<span class="w"> </span>system<span class="w"> </span>level<span class="w"> </span>changes<span class="w"> </span>and<span class="w"> </span>conflicts<span class="w"> </span>impacting<span class="w"> </span>others<span class="o">)</span><span class="w"> </span>you<span class="w"> </span>probably<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>add<span class="w"> </span>the<span class="w"> </span>below<span class="w"> </span>to<span class="w"> </span>you<span class="w"> </span>.bashrc<span class="w"> </span>file.

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/.local/vim/bin/&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w">  </span>
<span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/.local/vim/bin/:</span><span class="nv">$PATH</span><span class="s2">&quot;</span><span class="w">  </span>
<span class="k">fi</span>
</code></pre></div>
<p>And that’s it. You should now have an up to date vim install with Python.</p>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  <a class="md-pagination__link" href="../../">1</a> <span class="md-pagination__dots">..</span> <a class="md-pagination__link" href="../4/">4</a> <a class="md-pagination__link" href="../5/">5</a> <span class="md-pagination__current">6</span> <a class="md-pagination__link" href="../7/">7</a>
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="/feed_rss_updated.xml" target="_blank" rel="noopener" title="RSS Feed" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64m0 352a64 64 0 1 1 128 0 64 64 0 1 1-128 0m32-256c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.path", "icons"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>