
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Alexander Hagerman">
      
      
        <link rel="canonical" href="https://burningdaylight.io/blog/2020/10/11/getting-started-with-resharper-global-tools/">
      
      
        <link rel="prev" href="../../../05/28/groupby-fun-with-sql-and-python/">
      
      
        <link rel="next" href="../../18/roll-your-own-git-hook/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../../../icons/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Getting started with Resharper Global Tools - burningdaylight</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../css/styles.css">
    
      <link rel="stylesheet" href="../../../../../css/portfolio.css">
    
      <link rel="stylesheet" href="../../../../../css/resume.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="hsl(195,-80%,-42%)" data-md-color-accent="hsl(284,-22%,-36%)">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#resharper-command-line-tools" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://burningdaylight.io" title="burningdaylight" class="md-header__button md-logo" aria-label="burningdaylight" data-md-component="logo">
      
  <img src="../../../../../icons/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            burningdaylight
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting started with Resharper Global Tools
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="hsl(195,-80%,-42%)" data-md-color-accent="hsl(284,-22%,-36%)"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="hsl(284,-22%,-36%)" data-md-color-accent="hsl(195,-80%,-42%)"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://burningdaylight.io" title="burningdaylight" class="md-nav__button md-logo" aria-label="burningdaylight" data-md-component="logo">
      
  <img src="../../../../../icons/favicon.png" alt="logo">

    </a>
    burningdaylight
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../me/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Me
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      <a href="../../../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2025/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2020/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2020
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lists
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Lists
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../lists/books/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Books
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../lists/podcast/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Podcast
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Programming
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../programming/portfolio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Portfolio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../programming/resume/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resume
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#resharper-command-line-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Resharper Command Line Tools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running" class="md-nav__link">
    <span class="md-ellipsis">
      Running
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ci" class="md-nav__link">
    <span class="md-ellipsis">
      CI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanupcode" class="md-nav__link">
    <span class="md-ellipsis">
      CleanupCode
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dupfinder" class="md-nav__link">
    <span class="md-ellipsis">
      dupFinder
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content md-content--post" data-md-component="content">
    <div class="md-sidebar md-sidebar--post" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner md-post">
          <nav class="md-nav md-nav--primary">
            <div class="md-post__back">
              <div class="md-nav__title md-nav__container">
                <a href="../../../../" class="md-nav__link">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
                  <span class="md-ellipsis">
                    Back to index
                  </span>
                </a>
              </div>
            </div>
            
            <ul class="md-post__meta md-nav__list">
              <li class="md-nav__item md-nav__item--section">
                <div class="md-post__title">
                  <span class="md-ellipsis">
                    Metadata
                  </span>
                </div>
                <nav class="md-nav">
                  <ul class="md-nav__list">
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg>
                        <time datetime="2020-10-11 00:00:00+00:00" class="md-ellipsis">October 11, 2020</time>
                      </div>
                    </li>
                    
                    
                    
                      
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"/></svg>
                          <span class="md-ellipsis">
                            
                              4 min read
                            
                          </span>
                        </div>
                      </li>
                    
                  </ul>
                </nav>
              </li>
            </ul>
          </nav>
          
        </div>
      </div>
    </div>
    <article class="md-content__inner md-typeset">
      
        


  <h1>Getting started with Resharper Global Tools</h1>

<p>For a while now I’ve been interested in build tools, CI and code quality. I think I got a taste for it as a member of
the PyMSSQL project and it has continued on from there. Recently I worked on the initial CI setup for a C# project. As
part of the setup I took the time to look at what lint and analysis tools we wanted to integrate into our project.</p>
<p>For C# some of the more common tools appear to be:</p>
<ul>
<li><a href="https://github.com/dotnet/roslyn-analyzers">Roslyn Analyzers</a></li>
<li><a href="http://www.sonarsource.com/">Sonarsource</a></li>
<li><a href="https://www.ndepend.com/">NDepend</a></li>
<li>
<p><a href="https://www.jetbrains.com/resharper/">Jetbrains Resharper</a>
  I won’t go into the full criteria for our choice of Resharper (I’ll update this post if I end up writing that up one
  day), instead I’ll summarize that Resharper provided:</p>
</li>
<li>
<p>easy cross platform setup</p>
</li>
<li>ide/editor and shell agnostic</li>
<li>works the same locally and in CI.</li>
<li>opinionated by default</li>
</ul>
<h3 id="resharper-command-line-tools">Resharper Command Line Tools<a class="headerlink" href="#resharper-command-line-tools" title="Permanent link">&para;</a></h3>
<p>From the <a href="https://www.jetbrains.com/help/resharper/ReSharper_Command_Line_Tools.html">docs</a></p>
<p>ReSharper Command Line Tools is a set of free cross-platform standalone tools<br />
that help you integrate automatic code quality procedures into your CI, version<br />
control, or any other server.You can also run coverage analysis from the command line.The Command Line Tools package
includes the following tools:- InspectCode, which executes hundreds of ReSharper code inspections</p>
<ul>
<li>dupFinder, which detects duplicated code in the whole solution or narrower<br />
  scope</li>
<li>CleanupCode, which instantly eliminates code style violations and ensures a<br />
  uniform code base### Install</li>
</ul>
<p>To get started with Resharper tools (assuming you already have .NET Core installed) run</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd </span><span class="p">&lt;</span><span class="n">project</span><span class="p">&gt;</span>
<span class="n">dotnet</span> <span class="n">new</span> <span class="n">tool-manifest</span>
<span class="n">dotnet</span> <span class="n">tool</span> <span class="n">install</span> <span class="n">JetBrains</span><span class="p">.</span><span class="n">ReSharper</span><span class="p">.</span><span class="n">GlobalTools</span> <span class="p">-</span><span class="n">-version</span> <span class="n">2020</span><span class="p">.</span><span class="n">2</span><span class="p">.</span><span class="n">4Which</span> <span class="n">installs</span> <span class="n">the</span> <span class="no">[Resharper Global Tools]</span><span class="p">(</span><span class="n">https</span><span class="p">://</span><span class="n">www</span><span class="p">.</span><span class="n">nuget</span><span class="p">.</span><span class="n">org</span><span class="p">/</span><span class="n">packages</span><span class="p">/</span><span class="n">JetBrains</span><span class="p">.</span><span class="n">ReSharper</span><span class="p">.</span><span class="n">GlobalTools</span><span class="p">/</span><span class="n">2020</span><span class="p">.</span><span class="n">2</span><span class="p">.</span><span class="n">4</span><span class="p">)</span> <span class="n">at</span> <span class="n">the</span> <span class="n">project</span> <span class="n">level</span><span class="p">.</span> <span class="n">This</span> <span class="n">then</span> <span class="n">allows</span> <span class="n">CI</span> <span class="n">and</span> <span class="n">other</span> <span class="n">contributors</span> <span class="n">to</span> <span class="n">use</span> <span class="n">dotnet</span> <span class="n">tool</span> <span class="n">restore</span> <span class="k">in</span> <span class="n">the</span> <span class="n">future</span><span class="p">.</span>
</code></pre></div>
<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h3>
<p>Out of the box inspect, format, and dupefinder all have default configurations that work well. That said each team has
their own needs and preferences you may want these tools to promote. While there are a few ways to configure these tools
I found using <a href="https://www.jetbrains.com/help/resharper/Using_EditorConfig.html">editorconfig</a> to be the most human
readable approach.</p>
<p>For additional details on the editorconfig format see the <a href="https://editorconfig.org/">docs</a> and this
property <a href="https://www.jetbrains.com/help/rider/EditorConfig_Index.html">index</a>.</p>
<h3 id="running">Running<a class="headerlink" href="#running" title="Permanent link">&para;</a></h3>
<p>Running the tools from a shell is relatively easy:</p>
<div class="highlight"><pre><span></span><code><span class="n">jb</span> <span class="n">cleanupcode</span> <span class="p">-</span><span class="n">-verbosity</span><span class="p">=</span><span class="n">ERROR</span> <span class="p">-</span><span class="n">-config</span><span class="p">=./.</span><span class="n">config</span><span class="p">/</span><span class="n">cleanup</span> <span class="p">-</span><span class="n">-settings</span><span class="p">=./.</span><span class="n">editorconfig</span> <span class="p">-</span><span class="n">-no-buildin-settings</span> <span class="p">./</span><span class="n">Project</span><span class="p">.</span><span class="n">sln</span>
<span class="n">jb</span> <span class="n">inspectcode</span> <span class="p">-</span><span class="n">-verbosity</span><span class="p">=</span><span class="n">ERROR</span> <span class="n">Project</span><span class="p">.</span><span class="n">sln</span> <span class="n">-o</span><span class="p">=./</span><span class="n">reports</span><span class="p">/</span><span class="n">resharperInspect</span><span class="p">.</span><span class="n">xml</span>
<span class="n">jb</span> <span class="n">dupfinder</span> <span class="p">-</span><span class="n">-verbosity</span><span class="p">=</span><span class="n">ERROR</span> <span class="n">Project</span><span class="p">..</span><span class="n">sln</span> <span class="n">-o</span><span class="p">=./</span><span class="n">reports</span><span class="p">/</span><span class="n">resharperDupFinder</span><span class="p">.</span><span class="n">xmlOne</span> <span class="n">thing</span> <span class="n">to</span> <span class="n">note</span> <span class="n">is</span> <span class="n">that</span> <span class="n">by</span> <span class="k">default</span> <span class="n">the</span> <span class="n">autoformatting</span> <span class="n">will</span> <span class="n">attempt</span> <span class="n">to</span> <span class="n">enforce</span> <span class="n">line</span> <span class="n">endings</span><span class="p">.</span> <span class="k">If</span> <span class="n">you</span> <span class="n">have</span> <span class="n">a</span> <span class="n">team</span> <span class="n">working</span> <span class="n">across</span> <span class="n">multiple</span> <span class="n">platforms</span> <span class="n">and</span> <span class="n">using</span> <span class="n">git</span> <span class="n">to</span> <span class="n">automatically</span> <span class="n">handle</span> <span class="n">line</span> <span class="n">endings</span> <span class="n">these</span> <span class="n">can</span> <span class="n">come</span> <span class="n">into</span> <span class="n">conflict</span><span class="p">.</span> <span class="n">It</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">up</span> <span class="n">to</span> <span class="n">you</span> <span class="n">and</span> <span class="n">your</span> <span class="n">team</span> <span class="n">to</span> <span class="n">decide</span> <span class="k">if</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">handle</span> <span class="n">this</span> <span class="n">by</span> <span class="n">tweaking</span> <span class="n">git</span> <span class="n">behavior</span><span class="p">,</span><span class="n">editorconfig</span> <span class="n">or</span> <span class="n">another</span> <span class="n">method</span><span class="p">.</span>
</code></pre></div>
<h3 id="ci">CI<a class="headerlink" href="#ci" title="Permanent link">&para;</a></h3>
<p><em>If your using Team City
see </em><a href="https://www.jetbrains.com/help/resharper/Detect_code_issues_in_a_build_using_ReSharper_and_TeamCity.html"><em>this</em></a><em>
doc for details.</em></p>
<p>With everything running in our shell locally we can also set things up to run in our CI pipeline. Running the tools is
easy as long as your CI platform has a shell like task/step/operator:</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">script</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w">  </span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">dotnet tool restore</span><span class="w">  </span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">jb cleanupcode --verbosity=ERROR --config=./.config/cleanup --settings=./.editorconfig --no-buildin-settings ./Project.sln</span><span class="w">  </span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">jb inspectcode --verbosity=ERROR Project.sln -o=./reports/resharperInspect.xml</span><span class="w">  </span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">jb dupfinder --verbosity=ERROR Project..sln -o=./reports/resharperDupFinder.xml</span><span class="w">  </span>
<span class="w">  </span><span class="nt">displayName</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Resharper&#39;</span>
</code></pre></div>
<p>Of course you will probably break these up for easier maintenance and reporting.</p>
<p>Running the tools is easy. The trick is detecting when these tools find an issue. I’ll share what I did in case it’s
helpful, but long term it would be great if Jetbrains had the tools exit with documented status codes for different
issues. As it stands the tools only exit with an error if the tool fails, not when issues are reported.</p>
<h3 id="cleanupcode">CleanupCode<a class="headerlink" href="#cleanupcode" title="Permanent link">&para;</a></h3>
<p>Since CleanupCode will format our file rewriting it on disk we can use git to detect the change.</p>
<div class="highlight"><pre><span></span><code><span class="n">formatted</span><span class="p">=$(</span><span class="n">git</span> <span class="n">status</span> <span class="p">-</span><span class="n">-porcelain</span><span class="p">=</span><span class="n">v1</span> <span class="n">2</span><span class="p">&gt;/</span><span class="n">dev</span><span class="p">/</span><span class="n">null</span> <span class="p">|</span> <span class="n">wc</span> <span class="n">-l</span><span class="p">)</span>  
<span class="n">exit</span> <span class="nv">$formatted</span>
</code></pre></div>
<h3 id="dupfinder">dupFinder<a class="headerlink" href="#dupfinder" title="Permanent link">&para;</a></h3>
<p>dupFinder outputs an XML file highlighting any issues found. Powershell's built in XML support makes it easy enough to
query this file and see if any issues exist.</p>
<div class="highlight"><pre><span></span><code><span class="nv">$Result</span> <span class="p">=</span> <span class="nb">Select-Xml</span> <span class="n">-Path</span> <span class="p">$(</span><span class="n">System</span><span class="p">.</span><span class="n">DefaultWorkingDirectory</span><span class="p">)/</span><span class="n">reports</span><span class="p">/</span><span class="n">resharperDupFinder</span><span class="p">.</span><span class="n">xml</span> <span class="n">-XPath</span> <span class="s2">&quot;/DuplicatesReport/Duplicates/*&quot;</span>
<span class="k">If</span> <span class="p">(</span><span class="nv">$Result</span> <span class="o">-eq</span> <span class="nv">$null</span><span class="p">)</span> <span class="p">{</span> <span class="no">[Environment]</span><span class="p">::</span><span class="n">Exit</span><span class="p">(</span><span class="n">0</span><span class="p">)</span> <span class="p">}</span> <span class="k">Else</span> <span class="p">{</span> <span class="no">[Environment]</span><span class="p">::</span><span class="n">Exit</span><span class="p">(</span><span class="n">1</span><span class="p">)</span> <span class="p">}</span><span class="c">### InspectCode</span>
</code></pre></div>
<p>Similar to dupFinder InspectCode documents issues with an XML file, and once again we can use Powershell to detect if
there are any issues to fix.</p>
<div class="highlight"><pre><span></span><code><span class="nv">$Result</span> <span class="p">=</span> <span class="nb">Select-Xml</span> <span class="n">-Path</span> <span class="p">$(</span><span class="n">System</span><span class="p">.</span><span class="n">DefaultWorkingDirectory</span><span class="p">)/</span><span class="n">reports</span><span class="p">/</span><span class="n">resharperInspect</span><span class="p">.</span><span class="n">xml</span> <span class="n">-XPath</span> <span class="s2">&quot;/Report/Issues/Project/*&quot;</span>
<span class="k">If</span> <span class="p">(</span><span class="nv">$Result</span> <span class="o">-eq</span> <span class="nv">$null</span><span class="p">)</span> <span class="p">{</span> <span class="no">[Environment]</span><span class="p">::</span><span class="n">Exit</span><span class="p">(</span><span class="n">0</span><span class="p">)</span> <span class="p">}</span> <span class="k">Else</span> <span class="p">{</span> <span class="no">[Environment]</span><span class="p">::</span><span class="n">Exit</span><span class="p">(</span><span class="n">1</span><span class="p">)</span> <span class="p">}</span><span class="n">And</span> <span class="n">since</span> <span class="n">dupFinder</span> <span class="n">and</span> <span class="n">InspectCode</span> <span class="n">output</span> <span class="n">XML</span> <span class="n">it</span> <span class="n">can</span> <span class="n">be</span> <span class="n">useful</span> <span class="n">to</span> <span class="n">save</span> <span class="n">these</span> <span class="n">as</span> <span class="n">CI</span> <span class="n">artifacts</span> <span class="k">for</span> <span class="n">review</span><span class="p">.</span> <span class="k">In</span> <span class="n">Azure</span> <span class="n">Pipelines</span> <span class="n">this</span> <span class="n">looks</span> <span class="n">like</span><span class="p">:</span>
</code></pre></div>
<p><code>yaml
- task: PublishPipelineArtifact@1  
  inputs:  
  targetPath: '$(System.DefaultWorkingDirectory)/reports/'  
  artifactName: 'measurements'  
  condition: always()  
  displayName: 'Save ReSharper Results For Review.'### Wrapping Up</code></p>
<p>We’ve been using the ReSharper tools for a few months now and I have to say they provided what I was looking for in the
beginning. The tools have been easy to use, help us maintain our code and haven’t boxed us in or required a lot of extra
time on configuration and unseen gotchas. The only criticism I have is cold start time is pretty slow for cleanupcode,
and the return exit codes could be better. Both of these would also help with CI, and our git hook setup. Otherwise I
think these will continue to serve us well and let us focus on our project delivery.</p>







  
  




  



      
    </article>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="/feed_rss_updated.xml" target="_blank" rel="noopener" title="RSS Feed" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64m0 352a64 64 0 1 1 128 0 64 64 0 1 1-128 0m32-256c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.path", "icons"], "search": "../../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>